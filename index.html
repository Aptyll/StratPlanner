<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="styles.css">
    <title>StratPlanner2</title>
</head>
<body>
    <nav class="navbar">
        <button class="nav-button" id="select-tool" title="Select Tool (Q)">
            <span class="hotkey">Q</span>
            <svg viewBox="0 0 24 24" width="24" height="24">
                <path fill="currentColor" d="M7,2l12,11.2l-5.8,0.5l3.3,7.3l-2.2,1l-3.2-7.4L7,18.5V2"/>
            </svg>
        </button>
        <button class="nav-button" id="pen-tool" title="Pen Tool (W)">
            <span class="hotkey">W</span>
            <svg viewBox="0 0 24 24" width="24" height="24">
                <path fill="currentColor" d="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"/>
            </svg>
        </button>
        <div class="color-system" id="color-system">
            <!-- Selection pod for left/right click colors -->
            <div class="selection-pod" id="selection-pod">
                <div class="pod-slot left-click-slot" id="left-click-slot">
                    <div class="slot-label">L</div>
                </div>
                <div class="pod-slot right-click-slot" id="right-click-slot">
                    <div class="slot-label">R</div>
                </div>
            </div>

            <!-- Color palette -->
            <div class="color-palette" id="color-palette">
                <div class="palette-label">Color Palette</div>
                <div class="palette-colors" id="palette-colors">
                    <div class="color-swatch blue-color" id="blue-color" title="Blue" draggable="true"></div>
                    <div class="color-swatch red-color" id="red-color" title="Red" draggable="true"></div>
                    <div class="color-swatch green-color" id="green-color" title="Green" draggable="true"></div>
                </div>
            </div>
        </div>
        <button class="nav-button" id="eraser-tool" title="Eraser Tool (E)">
            <span class="hotkey">E</span>
            <svg viewBox="0 0 24 24" width="24" height="24">
                <path fill="currentColor" d="M16.24,3.56L21.19,8.5C21.97,9.29 21.97,10.55 21.19,11.34L12,20.53C10.44,22.09 7.91,22.09 6.34,20.53L2.81,17C2.03,16.21 2.03,14.95 2.81,14.16L13.41,3.56C14.2,2.78 15.46,2.78 16.24,3.56M4.22,15.58L7.76,19.11C8.54,19.9 9.8,19.9 10.59,19.11L14.12,15.58L9.17,10.63L4.22,15.58Z"/>
            </svg>
        </button>
        <button class="nav-button" id="line-tool" title="Line Tool (R)">
            <span class="hotkey">R</span>
            <svg viewBox="0 0 24 24" width="24" height="24">
                <path fill="currentColor" d="M15,3V7.59L7.59,15H3V21H9V16.42L16.42,9H21V3M17,5H19V7H17M5,17H7V19H5"/>
            </svg>
        </button>
        <button class="nav-button" id="color-picker" title="Color Picker (T)">
            <span class="hotkey">T</span>
            <div class="color-picker-container">
                <svg viewBox="0 0 24 24" width="24" height="24">
                    <path fill="currentColor" d="M17.5,12A1.5,1.5 0 0,1 16,10.5A1.5,1.5 0 0,1 17.5,9A1.5,1.5 0 0,1 19,10.5A1.5,1.5 0 0,1 17.5,12M14.5,8A1.5,1.5 0 0,1 13,6.5A1.5,1.5 0 0,1 14.5,5A1.5,1.5 0 0,1 16,6.5A1.5,1.5 0 0,1 14.5,8M9.5,8A1.5,1.5 0 0,1 8,6.5A1.5,1.5 0 0,1 9.5,5A1.5,1.5 0 0,1 11,6.5A1.5,1.5 0 0,1 9.5,8M6.5,12A1.5,1.5 0 0,1 5,10.5A1.5,1.5 0 0,1 6.5,9A1.5,1.5 0 0,1 8,10.5A1.5,1.5 0 0,1 6.5,12M12,3A9,9 0 0,0 3,12A9,9 0 0,0 12,21A9,9 0 0,0 21,12A9,9 0 0,0 12,3Z"/>
                </svg>
                <div id="current-color-indicator" class="color-indicator"></div>
            </div>
        </button>
        <button class="nav-button" id="clear-canvas" title="Clear Canvas (Y)">
            <span class="hotkey">Y</span>
            <svg viewBox="0 0 24 24" width="24" height="24">
                <path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"/>
            </svg>
        </button>
    </nav>

    <div class="main-content">
        <div class="map-container">
            <canvas id="battlemap"></canvas>
        </div>
        <div class="zoom-controls">
            <button id="zoom-in">+</button>
            <button id="zoom-out">-</button>
            <button id="reset-zoom">Reset</button>
        </div>
    </div>

    <!-- Color picker popup with Add Color button -->
    <div id="color-picker-popup" class="color-picker-popup">
        <div class="color-picker-content">
            <div id="color-picker-container"></div>
            <button id="add-color-btn">Add Color</button>
        </div>
    </div>

    <script src="layer-controls.js"></script>
<script src="history-panel.js"></script>
    <script src="app-new.js"></script>
</body>
</html>
